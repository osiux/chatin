<input type="text" id="room" /><input type="button" id="join" value="Entrar" />
<hr />
<input type="text" id="toSend" /><input type="button" id="sender" value="Enviar" />
<hr />
<div id="chat" style="width:500px;height:500px;">&nbsp;</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
<script src="js/socket.io.js"></script>
<script>
	$(document).ready(function(){

		var socket = io.connect('http://localhost:1337');
	 
		socket.on('connect', function() {
	   		// Connected, let's sign-up for to receive messages for this room
	   		
		});
		socket.on('message', function(data) {
			$('#chat').append('<p>El otro: ' + data.mensaje + '</p>');
	   		console.log('Incoming message:', data);
		});
		socket.on('userMessage', function(data) {
			$('#chat').append('<p>Tu: ' + data.mensaje + '</p>');
	   		console.log('Incoming message:', data);
		});

		$('#join').on('click', function(){
			var userRoom = $('#room').val();
			socket.emit('room', userRoom);
			$('#chat').append('<p>Entrando a cuarto: ' + userRoom + '</p>');
		})
		$('#sender').on('click', function(){
			var userRoom = $('#room').val();
			var sendMessage = $('#toSend').val();
			$('#toSend').val('');
			socket.emit('transmit', { room: userRoom, userMensaje: sendMessage });
		})
	})
</script>
